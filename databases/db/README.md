# Репликация и шардирование
## Репликация 
Будем использовать асинхронную репликацию c несколькими мастерами(async multi-master replication) с фактором репликации равным 3. Мастер реплики при этом будут располагаться в различных дц 
для увеличения отказаустойчивости и масштабируемости системы.
## Шардирование
Для каждой базы данной опишем поле, по которому будем производить шардирование. Это необходимо для быстрого обращения к данным, связанным логической некоторой связью, 
работа с которыми будет производиться чаще всего одновременно.

- chats</br>
  Шардируем по chat_id. Это позволит хранить описание чатов, участников чатов и сообщение чатов на одном шарде, что позволит быстро работать с ними.
- posts</br>
  Шардируем по post_id. Это позволит хранить описание постов, комментарии, оценки и описание картинок на одном шарде.
- subscriptions</br>
  Шардируем по account_id и subscribe_id для равномерности распределения по шардам.
- users</br>
  Шардируем по user_id.
- places</br>
  Шардируем по place_id.

